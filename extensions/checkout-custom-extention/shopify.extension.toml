# Learn more about configuring your checkout UI extension:
# https://shopify.dev/docs/api/checkout-ui-extensions/latest/configuration

# The version of APIs your extension will receive. Learn more:
# https://shopify.dev/docs/api/usage/versioning
api_version = "2026-01"

[[extensions]]
name = "Checkout Custom Extention"
handle = "checkout-custom-extention"
type = "ui_extension"
uid = "b57552f5-5cc0-6525-d3e4-c94de6346aca50c7e92d"

# Controls where in Shopify your extension will be injected,
# and the file that contains your extension's source code. Learn more:
# https://shopify.dev/docs/api/checkout-ui-extensions/latest/extension-targets-overview

[[extensions.targeting]]
module = "./src/Checkout.jsx"
target = "purchase.checkout.block.render"

[extensions.capabilities]
network_access = true
api_access = true

# Loads metafields on checkout resources, including the cart,
# products, customers, and more. Learn more:
# https://shopify.dev/docs/api/checkout-ui-extensions/latest/configuration#metafields

[[extensions.metafields]]
namespace = "custom"
key = "product_type"
owner_type = "product_variant"

# Defines settings that will be collected from merchants installing
# your extension. Learn more:
# https://shopify.dev/docs/api/checkout-ui-extensions/latest/configuration#settings-definition

[extensions.settings]
[[extensions.settings.fields]]
key = "metaobject_type"
type = "single_line_text_field"
name = "MetaObject Type"
description = "Enter the MetaObject type to query (e.g., 'global_site_data'). This is required by the Storefront API. You can find types in Shopify Admin > Settings > Custom data > Metaobjects."

[[extensions.settings.fields]]
key = "metaobject_handles"
type = "multi_line_text_field"
name = "MetaObject Handles"
description = "Enter the handles/names of MetaObjects to display, one per line (e.g., 'my-global-data' on first line, 'another-handle' on second line). Leave empty to show all MetaObjects of the configured type."

[[extensions.settings.fields]]
key = "section_title"
type = "single_line_text_field"
name = "Section Title"
description = "Enter the title to display above the MetaObjects (e.g., 'Store Information')."

[[extensions.settings.fields]]
key = "section_text"
type = "multi_line_text_field"
name = "Section Text"
description = "Enter text to display below the MetaObjects (e.g., 'For more information, contact us.')."

[[extensions.settings.fields]]
key = "section_title_en"
type = "single_line_text_field"
name = "Section Title (English)"
description = "Enter the English title to display above the MetaObjects when language is 'en' (e.g., 'Store Information')."

[[extensions.settings.fields]]
key = "section_text_en"
type = "multi_line_text_field"
name = "Section Text (English)"
description = "Enter English text to display below the MetaObjects when language is 'en' (e.g., 'For more information, contact us.')."

# Product Conditional Rendering Settings
[[extensions.settings.fields]]
key = "conditional_resource_type"
type = "single_line_text_field"
name = "Conditional Resource Type"
description = "Select the resource type: 'Product', 'Variant', 'Customer', or 'Order'"

[[extensions.settings.fields]]
key = "conditional_metafield_name"
type = "single_line_text_field"
name = "Metafield Name"
description = "Enter the name/key of the metafield to check (e.g., 'custom_field' or 'namespace.key')."

[[extensions.settings.fields]]
key = "conditional_metafield_value"
type = "single_line_text_field"
name = "Metafield Value"
description = "Enter the value to match against the metafield."

[[extensions.settings.fields]]
key = "conditional_match_type"
type = "single_line_text_field"
name = "Match Type"
description = "Select matching type: 'exact match', 'contains', 'starts with', 'ends with', 'not contains', 'not exact match'."

[[extensions.settings.fields]]
key = "conditional_action"
type = "single_line_text_field"
name = "Conditional Action"
description = "Select action: 'Show when' or 'Hide when' the metafield value matches."
